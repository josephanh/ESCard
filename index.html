<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Easter Card</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bad+Script&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,200..900;1,200..900&family=Kaushan+Script&display=swap"
      rel="stylesheet"
    />
    <link
      rel="shortcut icon"
      href="./img/exit-from-tomb-cave-place-of-burial-jesus-christ-son-of-god-vector.jpg"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="./index.css" />
  </head>

  <body id="body">
    <div class="book" id="book">
      <div class="cover">
        <img src="./img/background-1.jpg" class="cover-book" />
        <img src="./img/jesus-christ-7030520_1280.webp" class="cover-book-1" />
      </div>
      <div class="pages">
        <img
          src="./img/exit-from-tomb-cave-place-of-burial-jesus-christ-son-of-god-vector.jpg"
          alt
        />
        <div id="loichua">"Người không ở đây, nhưng đã sống lại rồi." (Lc 24,6)</div>
        <div class="alleluia">Alleluia!</div>
        <div class="text-modal" id="cauchuc">
          Chúa đã sống lại! Chúc bạn một mùa Phục Sinh tràn đầy hồng ân.
        </div>
      </div>
    </div>
    <audio
      id="sound"
      src="./audio/An Easter Hallelujah Cassandra Star & her sister Callahan.mp3"
      hidden
      preload="auto"
    ></audio>
    <!-- <button class="open-btn">Mở Modal</button> -->

    <div class="modal-overlay" id="modal">
      <div class="modal-content">
        <h2>Thông báo!</h2>
        <p>Nhập tên của bạn :)</p>
        <input
          type="text"
          placeholder="your name"
          id="name-us"
          class="custom-input"
        />
        <button class="close-btn" disabled>I understand!</button>
      </div>
    </div>
  </body>
</html>
<script src="./const.js"></script>
<script>
  const body = document.getElementById("body");
  const sound = document.getElementById("sound");
  const book = document.getElementById("book");
  const input = document.querySelector("#name-us");
  const cauchuc = document.querySelector("#cauchuc");
  const loiChua = document.querySelector("#loichua");

  book.addEventListener("mouseover", () => {
    body.style.backgroundImage =
      "url('https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75edc704-a33f-48e1-bd4d-c3bb4a8402b4_1456x816.png')";
  });

  book.addEventListener("mouseout", () => {
    body.style.backgroundImage =
      "url('https://images.squarespace-cdn.com/content/v1/57c093773e00be693beeac5c/1523070314712-4AQLK5D211O1B41QFIJW/jesus-3279901.jpg')";
  });
  const modal = document.getElementById("modal");
  const closeBtn = document.querySelector(".close-btn");

  window.onload = () => {
    modal.classList.add("active");
    input.addEventListener("input", () => {
      if (input.value.trim().length > 4) {
        closeBtn.disabled = false;
      } else {
        closeBtn.disabled = true;
      }
    });
  };

  closeBtn.addEventListener("click", () => {
    modal.classList.remove("active");
    sound.play();
    sound.volume = 0.2;
    book.style.display = "block";

    let ten = input.value.trim();
    let dau = loiChucDau[Math.floor(Math.random() * loiChucDau.length)];
    let cuoi = loiChucCuoi[Math.floor(Math.random() * loiChucCuoi.length)];

    let cauChuc = `${dau} ${ten} ${cuoi}`;
    cauchuc.innerHTML = cauChuc;
    loiChua.innerHTML = randomLoiChua();
  });
</script>
